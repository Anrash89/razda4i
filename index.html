<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–î–µ–ª–æ –≤ –®–ª—è–ø–µ | CRM</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6c5ce7;
            --primary-light: #a29bfe;
            --bg: #f4f7f6;
            --surface: #ffffff;
            --text-main: #2d3436;
            --text-sec: #636e72;
            --success: #00b894;
            --warning: #fdcb6e;
            --danger: #ff7675;
            --radius: 16px;
            --shadow: 0 8px 20px rgba(0,0,0,0.04);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #dfe6e9;
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            overflow: hidden;
        }

        .app {
            width: 100%;
            max-width: 420px;
            height: 100%;
            background: var(--bg);
            position: relative;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            box-shadow: 0 0 40px rgba(0,0,0,0.1);
        }

        @media (min-width: 425px) { .app { height: 95vh; border-radius: 24px; margin-top: 2.5vh; } }

        /* Header */
        .header {
            padding: 15px 20px;
            background: var(--surface);
            display: flex;
            align-items: center;
            justify-content: space-between;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.02);
        }
        .header h1 { font-size: 18px; margin: 0; font-weight: 700; }

        /* Content */
        .content { flex: 1; overflow-y: auto; padding: 20px; position: relative; }

        /* Screens */
        .screen { display: none; animation: fade 0.3s ease; }
        .screen.active { display: block; }
        @keyframes fade { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Buttons */
        .btn {
            width: 100%; padding: 14px; border-radius: 12px; border: none;
            font-weight: 600; font-size: 15px; cursor: pointer;
            display: flex; align-items: center; justify-content: center; gap: 8px;
        }
        .btn-primary { background: var(--primary); color: white; box-shadow: 0 4px 10px rgba(108, 92, 231, 0.3); }
        .btn-success { background: var(--success); color: white; }
        .btn-danger { background: var(--surface); color: var(--danger); border: 1px solid var(--danger); }
        .btn-outline { background: transparent; border: 1px solid #ddd; color: var(--text-sec); }

        /* CRM Tabs */
        .tabs {
            display: flex; gap: 10px; overflow-x: auto; padding-bottom: 5px; margin-bottom: 15px;
            scrollbar-width: none;
        }
        .tabs::-webkit-scrollbar { display: none; }
        
        .tab {
            padding: 8px 16px; border-radius: 20px; background: white; white-space: nowrap;
            font-size: 13px; font-weight: 600; color: var(--text-sec); border: 1px solid transparent;
            cursor: pointer; transition: 0.2s;
        }
        .tab.active { background: var(--primary); color: white; border-color: var(--primary); }
        .badge {
            display: inline-flex; align-items: center; justify-content: center;
            background: var(--danger); color: white; font-size: 10px; 
            height: 18px; padding: 0 6px; border-radius: 9px; margin-left: 5px;
        }

        /* Order Card */
        .order-card {
            background: var(--surface);
            border-radius: var(--radius);
            padding: 15px;
            margin-bottom: 12px;
            box-shadow: var(--shadow);
            cursor: pointer;
            position: relative;
            transition: transform 0.1s;
        }
        .order-card:active { transform: scale(0.98); }
        
        .order-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .user-info { display: flex; align-items: center; gap: 10px; }
        .avatar { width: 36px; height: 36px; border-radius: 50%; background: #eee; object-fit: cover; }
        .user-name { font-weight: 600; font-size: 14px; }
        .time-badge { font-size: 11px; color: #999; background: #f5f5f5; padding: 4px 8px; border-radius: 6px; }

        .order-body { display: flex; gap: 10px; background: #f8f9fa; padding: 10px; border-radius: 10px; }
        .prod-thumb { width: 40px; height: 40px; border-radius: 8px; object-fit: cover; }
        .prod-details { font-size: 12px; display: flex; flex-direction: column; justify-content: center; }

        .status-line { 
            margin-top: 10px; font-size: 12px; font-weight: 600; 
            display: flex; align-items: center; gap: 5px; 
        }
        .st-blue { color: var(--primary); }
        .st-orange { color: #e17055; }
        .st-purple { color: #a29bfe; }
        .st-green { color: var(--success); }

        /* Role Selection */
        .role-card {
            background: white; padding: 25px; border-radius: 20px; text-align: center;
            margin-bottom: 15px; cursor: pointer; box-shadow: var(--shadow);
            border: 2px solid transparent; transition: 0.2s;
        }
        .role-card:hover { border-color: var(--primary); }

        /* Modal / Moderation View */
        .moderation-view {
            background: white; border-radius: var(--radius); padding: 20px;
            box-shadow: var(--shadow);
        }
        .data-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px; }
        .label { color: #999; }
        
        /* Stats Widget */
        .stats-widget {
            display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px;
        }
        .stat-item { background: white; padding: 15px; border-radius: 16px; }
        .stat-val { font-size: 20px; font-weight: 700; color: var(--text-main); }
        .stat-lbl { font-size: 12px; color: var(--text-sec); }

    </style>
</head>
<body>

<div class="app">
    <div class="header">
        <h1 id="header-title">–î–µ–ª–æ –≤ –®–ª—è–ø–µ</h1>
        <div id="user-balance" style="font-size: 14px; font-weight: 600; color: var(--success); display: none;">12 500 ‚ÇΩ</div>
    </div>

    <div class="content">

        <div id="screen-roles" class="screen active">
            <h2 style="text-align: center; margin-bottom: 30px;">–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</h2>
            
            <div class="role-card" onclick="setRole('seller')">
                <div style="font-size: 40px; margin-bottom: 10px;">üíº</div>
                <div style="font-weight: 700; font-size: 18px;">–ö–∞–±–∏–Ω–µ—Ç –°–µ–ª–ª–µ—Ä–∞</div>
                <div style="font-size: 13px; color: #888; margin-top: 5px;">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏ –∏ –≤—ã–ø–ª–∞—Ç–∞–º–∏</div>
            </div>

            <div class="role-card" onclick="setRole('buyer')">
                <div style="font-size: 40px; margin-bottom: 10px;">üõç</div>
                <div style="font-weight: 700; font-size: 18px;">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ü–æ–∫—É–ø–∞—Ç–µ–ª—è</div>
                <div style="font-size: 13px; color: #888; margin-top: 5px;">–ö–∞—Ç–∞–ª–æ–≥ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π</div>
            </div>
            
            <p style="text-align: center; margin-top: 40px; font-size: 12px; color: #ccc;">
                Demo v3.0 | CRM Integrated
            </p>
        </div>

        <div id="screen-seller" class="screen">
            <div class="stats-widget">
                <div class="stat-item">
                    <div class="stat-val">8</div>
                    <div class="stat-lbl">–í —Ä–∞–±–æ—Ç–µ</div>
                </div>
                <div class="stat-item">
                    <div class="stat-val">3</div>
                    <div class="stat-lbl" style="color: var(--danger);">–¢—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è</div>
                </div>
            </div>

            <div class="tabs">
                <div class="tab active" onclick="filterOrders('all', this)">–í—Å–µ</div>
                <div class="tab" onclick="filterOrders('new', this)">–ó–∞–∫–∞–∑—ã <span class="badge">2</span></div>
                <div class="tab" onclick="filterOrders('pickup', this)">–ü–í–ó <span class="badge">1</span></div>
                <div class="tab" onclick="filterOrders('review', this)">–û—Ç–∑—ã–≤—ã <span class="badge">4</span></div>
                <div class="tab" onclick="filterOrders('payout', this)">–í—ã–ø–ª–∞—Ç—ã <span class="badge">1</span></div>
            </div>

            <div id="orders-list">
                </div>
        </div>

        <div id="screen-moderation" class="screen">
            <button class="btn btn-outline" style="margin-bottom: 15px; width: auto; padding: 8px 15px;" onclick="goTo('screen-seller')">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</button>
            
            <div id="moderation-content">
                </div>
        </div>

        <div id="screen-buyer" class="screen">
            <button class="btn btn-outline" style="margin-bottom: 15px;" onclick="goTo('screen-roles')">‚Üê –í—ã—Ö–æ–¥</button>
            <div style="text-align: center; padding: 40px; background: white; border-radius: 16px;">
                <h3>–†–µ–∂–∏–º –ü–æ–∫—É–ø–∞—Ç–µ–ª—è</h3>
                <p>–ó–¥–µ—Å—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ (–∫–∞–∫ –≤ –ø—Ä–æ—à–ª–æ–π –≤–µ—Ä—Å–∏–∏).</p>
                <p>–î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ CRM –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–∞–±–∏–Ω–µ—Ç —Å–µ–ª–ª–µ—Ä–∞.</p>
            </div>
        </div>

    </div>
</div>

<script>
    // --- –î–ê–ù–ù–´–ï (MOCK DATA) ---
    const orders = [
        {
            id: 101,
            user: "–û–ª—å–≥–∞ –ö.",
            avatar: "https://randomuser.me/api/portraits/women/44.jpg",
            product: "–ù–∞–±–æ—Ä –æ–ø—ã—Ç–æ–≤ Roman Magic",
            img: "https://ir.ozone.ru/s3/multimedia-0/wc1000/6647987820.jpg",
            status: "new", // –∂–¥–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
            time: "5 –º–∏–Ω. –Ω–∞–∑–∞–¥",
            details: { type: "order", screenshot: "https://via.placeholder.com/300x400/000000/ffffff?text=SCREENSHOT+ORDER" }
        },
        {
            id: 102,
            user: "–î–º–∏—Ç—Ä–∏–π –í.",
            avatar: "https://randomuser.me/api/portraits/men/32.jpg",
            product: "–Æ–Ω—ã–π –•–∏–º–∏–∫",
            img: "https://ir.ozone.ru/s3/multimedia-v/wc1000/6682736467.jpg",
            status: "new",
            time: "12 –º–∏–Ω. –Ω–∞–∑–∞–¥",
            details: { type: "order", screenshot: "https://via.placeholder.com/300x400/333333/ffffff?text=SCREENSHOT+ORDER" }
        },
        {
            id: 201,
            user: "–ï–ª–µ–Ω–∞ –°.",
            avatar: "https://randomuser.me/api/portraits/women/68.jpg",
            product: "–ù–∞–±–æ—Ä –æ–ø—ã—Ç–æ–≤ 1.0",
            img: "https://ir.ozone.ru/s3/multimedia-0/wc1000/6647987820.jpg",
            status: "pickup", // —Ñ–æ—Ç–æ —Å –ø–≤–∑
            time: "2 —á. –Ω–∞–∑–∞–¥",
            details: { type: "pickup", screenshot: "https://via.placeholder.com/300x300/e17055/ffffff?text=PHOTO+AT+PICKUP" }
        },
        {
            id: 301,
            user: "–ú–∞–∫—Å–∏–º –ì.",
            avatar: "https://randomuser.me/api/portraits/men/11.jpg",
            product: "Roman Magic",
            img: "https://ir.ozone.ru/s3/multimedia-0/wc1000/6647987820.jpg",
            status: "review", // –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∑—ã–≤–∞
            time: "–¢–æ–ª—å–∫–æ —á—Ç–æ",
            details: { 
                type: "review", 
                text: "–ö–æ—Ä–æ–±–∫–∞ –ø—Ä–∏—à–ª–∞ —Ü–µ–ª–∞—è, —Ä–µ–±–µ–Ω–æ–∫ –≤ –≤–æ—Å—Ç–æ—Ä–≥–µ! –•–∏–º–∏—á–∏–ª–∏ –≤–µ—Å—å –≤–µ—á–µ—Ä. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ–Ω—è—Ç–Ω–∞—è.", 
                rating: 5,
                media: ["https://via.placeholder.com/150/a29bfe/fff?text=PHOTO1", "https://via.placeholder.com/150/a29bfe/fff?text=VIDEO"]
            }
        },
        {
            id: 401,
            user: "–ê–ª–∏–Ω–∞ –§.",
            avatar: "https://randomuser.me/api/portraits/women/12.jpg",
            product: "–Æ–Ω—ã–π –•–∏–º–∏–∫",
            img: "https://ir.ozone.ru/s3/multimedia-v/wc1000/6682736467.jpg",
            status: "payout", // –∂–¥–µ—Ç –≤—ã–ø–ª–∞—Ç—É
            time: "1 –¥. –Ω–∞–∑–∞–¥",
            details: { 
                type: "payout", 
                amount: 950,
                phone: "+7 (999) 123-45-67",
                bank: "–¢-–ë–∞–Ω–∫",
                screenshot: "https://via.placeholder.com/300x400/00b894/ffffff?text=REVIEW+PUBLISHED"
            }
        }
    ];

    // --- –õ–û–ì–ò–ö–ê ---

    function setRole(role) {
        document.getElementById('screen-roles').classList.remove('active');
        if (role === 'seller') {
            document.getElementById('screen-seller').classList.add('active');
            document.getElementById('user-balance').style.display = 'block';
            renderOrders(orders);
        } else {
            document.getElementById('screen-buyer').classList.add('active');
        }
    }

    function goTo(screenId) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(screenId).classList.add('active');
    }

    // –†–µ–Ω–¥–µ—Ä —Å–ø–∏—Å–∫–∞ –∑–∞—è–≤–æ–∫
    function renderOrders(data) {
        const container = document.getElementById('orders-list');
        container.innerHTML = "";

        data.forEach(order => {
            let statusBadge = "";
            let statusText = "";
            
            if (order.status === 'new') { 
                statusBadge = '<span class="st-blue">‚óè –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–∫–∞–∑–∞</span>'; 
            } else if (order.status === 'pickup') {
                statusBadge = '<span class="st-orange">‚óè –§–æ—Ç–æ –∏–∑ –ü–í–ó</span>';
            } else if (order.status === 'review') {
                statusBadge = '<span class="st-purple">‚óè –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞</span>';
            } else if (order.status === 'payout') {
                statusBadge = '<span class="st-green">‚óè –û–∂–∏–¥–∞–µ—Ç –≤—ã–ø–ª–∞—Ç—ã</span>';
            }

            const html = `
                <div class="order-card" onclick="openModeration(${order.id})">
                    <div class="order-header">
                        <div class="user-info">
                            <img src="${order.avatar}" class="avatar">
                            <div>
                                <div class="user-name">${order.user}</div>
                                <div style="font-size: 11px; color: #777;">–†–µ–π—Ç–∏–Ω–≥: 5.0 ‚òÖ</div>
                            </div>
                        </div>
                        <div class="time-badge">${order.time}</div>
                    </div>
                    <div class="order-body">
                        <img src="${order.img}" class="prod-thumb">
                        <div class="prod-details">
                            <div style="font-weight: 600;">${order.product}</div>
                            <div style="color: #999;">–ê—Ä—Ç–∏–∫—É–ª: 1948210</div>
                        </div>
                    </div>
                    <div class="status-line">
                        ${statusBadge}
                        <span style="margin-left: auto; color: #ccc;">·ê≥</span>
                    </div>
                </div>
            `;
            container.innerHTML += html;
        });
    }

    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–∞–±–∞–º–∏
    function filterOrders(status, element) {
        // UI tabs
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        element.classList.add('active');

        // Logic
        if (status === 'all') {
            renderOrders(orders);
        } else {
            const filtered = orders.filter(o => o.status === status);
            renderOrders(filtered);
        }
    }

    // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (–î–ï–¢–ê–õ–ò)
    function openModeration(id) {
        const order = orders.find(o => o.id === id);
        const container = document.getElementById('moderation-content');
        let contentHtml = "";

        // –®–∞–ø–∫–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
        contentHtml += `
            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
                <img src="${order.avatar}" style="width: 50px; height: 50px; border-radius: 50%;">
                <div>
                    <div style="font-size: 18px; font-weight: 700;">${order.user}</div>
                    <div style="font-size: 13px; color: #777;">–¢–æ–≤–∞—Ä: ${order.product}</div>
                </div>
            </div>
            <hr style="border: 0; border-top: 1px solid #eee; margin-bottom: 20px;">
        `;

        // –õ–æ–≥–∏–∫–∞ –ø–æ —Ç–∏–ø–∞–º
        if (order.status === 'new') {
            contentHtml += `
                <h3>üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç –∑–∞–∫–∞–∑–∞</h3>
                <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —ç—Ç–æ –Ω–∞—à –±—Ä–µ–Ω–¥ –∏ —Ü–µ–Ω–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç.</p>
                <img src="${order.details.screenshot}" style="width: 100%; border-radius: 10px; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                     <button class="btn btn-danger" onclick="alert('–û—Ç–∫–ª–æ–Ω–µ–Ω–æ')">–û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
                     <button class="btn btn-success" onclick="alert('–û–¥–æ–±—Ä–µ–Ω–æ! –ü–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ —ç—Ç–∞–ø –ü–í–ó')">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑</button>
                </div>
            `;
        } 
        else if (order.status === 'pickup') {
            contentHtml += `
                <h3>üì¶ –§–æ—Ç–æ –∏–∑ –ü–í–ó</h3>
                <p>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–±—Ä–∞–ª –∏–º–µ–Ω–Ω–æ –Ω–∞—à —Ç–æ–≤–∞—Ä.</p>
                <img src="${order.details.screenshot}" style="width: 100%; border-radius: 10px; margin-bottom: 20px;">
                <button class="btn btn-success" onclick="alert('–ü—Ä–∏–Ω—è—Ç–æ! –ñ–¥–µ–º –æ—Ç–∑—ã–≤')">‚úÖ –¢–æ–≤–∞—Ä –ø–æ–ª—É—á–µ–Ω</button>
            `;
        }
        else if (order.status === 'review') {
            contentHtml += `
                <h3>üìù –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∑—ã–≤–∞ (Draft)</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-bottom: 15px; font-style: italic;">
                    "${order.details.text}"
                </div>
                <div style="display: flex; gap: 10px; overflow-x: auto; margin-bottom: 20px;">
                    ${order.details.media.map(m => `<img src="${m}" style="width: 100px; height: 100px; border-radius: 8px; object-fit: cover;">`).join('')}
                </div>
                <div style="display: flex; gap: 10px;">
                     <button class="btn btn-outline" onclick="alert('–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∑–∞–º–µ—á–∞–Ω–∏–µ')">‚úçÔ∏è –ü–æ–ø—Ä–æ—Å–∏—Ç—å –∏—Å–ø—Ä–∞–≤–∏—Ç—å</button>
                     <button class="btn btn-success" onclick="alert('–¢–µ–∫—Å—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω! –ú–æ–∂–Ω–æ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å')">‚úÖ –°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å</button>
                </div>
            `;
        }
        else if (order.status === 'payout') {
            contentHtml += `
                <h3>üí∞ –ó–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–ø–ª–∞—Ç—É</h3>
                <div class="data-row"><span class="label">–°—É–º–º–∞:</span> <b>${order.details.amount} ‚ÇΩ</b></div>
                <div class="data-row"><span class="label">–ë–∞–Ω–∫:</span> <b>${order.details.bank}</b></div>
                <div class="data-row"><span class="label">–†–µ–∫–≤–∏–∑–∏—Ç—ã:</span> <b>${order.details.phone}</b></div>
                
                <div style="background: #e6fffa; color: #00b894; padding: 10px; border-radius: 8px; margin: 15px 0; font-size: 13px;">
                    ‚úÖ –û—Ç–∑—ã–≤ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω.
                </div>

                <div style="display: grid; gap: 10px;">
                    <button class="btn btn-primary" onclick="alert('–í—ã–ø–ª–∞—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ API –±–∞–Ω–∫–∞!')">‚ö°Ô∏è –ê–≤—Ç–æ-–≤—ã–ø–ª–∞—Ç–∞ (–°–ë–ü)</button>
                    <button class="btn btn-outline" onclick="alert('–ö–æ–¥ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ —á–∞—Ç')">üéÅ –í—ã–¥–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º</button>
                </div>
            `;
        }

        container.innerHTML = contentHtml;
        goTo('screen-moderation');
    }

</script>

</body>
</html>
